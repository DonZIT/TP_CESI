{% extends 'base.html.twig' %}

{% block title %}Top des ventes
{% endblock %}

{% block body %}
	<div class="container mt-4">
		<h2 class="text-center mb-4">Top des ventes</h2>
		<div class="row">
			{% for product in products %}
				<div class="col-md-4 mb-3">
					<div class="card">
						{% if product.images|length > 0 %}
							{% set image = product.images|first %}
							<img src="{{ asset('assets/image/' ~ image.name) }}" class="card-img-top" alt="{{ product.name }}">
						{% else %}
							<img src="{{ asset('assets/image/chapeau.jpeg') }}" class="card-img-top" alt="Default Image">
						{% endif %}
						<div class="card-body">
							<h5 class="card-title">{{ product.name }}</h5>
							<p class="card-text">{{ product.description }}</p>
							<div class="d-flex justify-content-between align-items-center">
								<span class="text-muted">{{ product.price | number_format(2, ',', ' ') }}€</span>
								<a href="{{ path('shop_details', {'id': product.id}) }}" class="btn btn-primary">Voir Plus</a>
							</div>
						</div>
					</div>
				</div>
			{% else %}
				<div class="alert alert-info" role="alert">
					Aucun produit trouvé.
				</div>
			{% endfor %}
		</div>
	</div>
{% endblock %}
